ok, so after many attempts finally is working, i think it was a combination of simplifying the process plus server side plus putting a timeout and removing redundancies on the code... but the codebase is too big for me to understand it.... so this is what i need form you....

You will analyze the codebase and see how exactly the auth, auth check and everything related to auth is working.... you will abstract so it can work for any app and create a small folder with such abstraction so one could use it as a library for other apps.... and create two readmes (the "useme" (technical) and the "followme" (non-technical)): one for LLMs explaining how the code works and how to implement it and another readme for non-technical users to understand the flow of how to use this mini-library by making a super clear and granular step by step process-flow (so an AI can assist them with everything) so they can use this mini-library in any other app and save them all the trouble we had

provide me with all the files from the folder so i can upload them to a github and people can use them 

WORKING CODEBASE

[CODEBASE]